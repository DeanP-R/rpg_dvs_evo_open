<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EVO: Event based Visual Odometry: dvs_mapping/include/dvs_depth_from_defocus/depth_defocus_node.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EVO: Event based Visual Odometry
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ad997d48941325ba506a317fee6c5d1a.html">dvs_mapping</a></li><li class="navelem"><a class="el" href="dir_c8744c9302c531d173f9da8f492215a5.html">include</a></li><li class="navelem"><a class="el" href="dir_aed134eeebc665a9f98c953e86ef8771.html">dvs_depth_from_defocus</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">depth_defocus_node.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;geometry_msgs/PoseStamped.h&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;image_geometry/pinhole_camera_model.h&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;image_transport/image_transport.h&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;pcl/point_types.h&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;pcl_ros/point_cloud.h&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;ros/ros.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;sensor_msgs/CameraInfo.h&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;std_msgs/Bool.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;std_msgs/String.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;tf/tf.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;tf/tfMessage.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;tf/transform_datatypes.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;tf_conversions/tf_eigen.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;boost/multi_array.hpp&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;dvs_depth_from_defocus/depth_vector.hpp&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;dvs_msgs/Event.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;dvs_msgs/EventArray.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;evo_utils/camera.hpp&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;evo_utils/geometry.hpp&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// #define MAPPING_PERF  ///&lt; to easily measure code for time of execution</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacedepth__from__defocus.html">depth_from_defocus</a> {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">typedef</span> pcl::PointXYZI PointType;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">typedef</span> pcl::PointCloud&lt;PointType&gt; PointCloud;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">float</span> Vote;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">enum</span> MapperState { IDLE, MAPPING };</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html">   58</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html">DepthFromDefocusNode</a> {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a34a786d7ed8c846f3d10e6c4ea44ca1c">DepthFromDefocusNode</a>(<span class="keyword">const</span> ros::NodeHandle &amp;nh, <span class="keyword">const</span> ros::NodeHandle &amp;pnh,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                         <span class="keyword">const</span> image_geometry::PinholeCameraModel &amp;cam);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afa040d5d769ec0fe374456e5bab56ed4">~DepthFromDefocusNode</a>();</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a66af9d6f400f5ba558891c3e96ccefc8">processEventArray</a>(<span class="keyword">const</span> dvs_msgs::EventArray::ConstPtr &amp;event_array);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a410d73cc0f5560fd523f00611bd6d662">tfCallback</a>(<span class="keyword">const</span> tf::tfMessage::ConstPtr &amp;tf_msg);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9947eae416456401f19a6191ca5f7ea7">remoteKeyCallback</a>(<span class="keyword">const</span> std_msgs::String::ConstPtr &amp;msg);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a98c7bb325b87b98a5246f5413bdfccda">cameraInfoCallback</a>(<span class="keyword">const</span> sensor_msgs::CameraInfo::ConstPtr &amp;msg);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8e50df3e30a2cb737f9ebba7abf309f7">copilotCallback</a>(<span class="keyword">const</span> std_msgs::Bool &amp;msg);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   <span class="keyword">private</span>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0b4316dd5d3f7a0f9f9022fa7cb062e7">resetMapper</a>();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afdfd142fd0150cdf4db973a7e4cf2446">projectEventsToVoxelGrid</a>(<span class="keyword">const</span> std::vector&lt;Eigen::Vector4f&gt; &amp;events,</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                  <span class="keyword">const</span> std::vector&lt;Eigen::Vector3f&gt; &amp;centers);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a6c3e65bb3ddb235e484574d851a08c48">resetVoxelGrid</a>();</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#acf8dc50f440375fdf193e512a73409a5">processEventQueue</a>(<span class="keywordtype">bool</span> reset = <span class="keyword">false</span>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ad015324f82f688def03d52386161e706">getPoseAt</a>(<span class="keyword">const</span> ros::Time &amp;t, evo_utils::geometry::Transformation &amp;T);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ac1d09c207960dc16c44ab095b0b0c012">setupVoxelGrid</a>();</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afdae5a3c5364f7134a6db87b291d4c2b">  227</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afdae5a3c5364f7134a6db87b291d4c2b">voteForCell</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x_f, <span class="keyword">const</span> <span class="keywordtype">float</span> y_f, Vote *grid) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> x = (int)(x_f + 0.5), y = (int)(y_f + 0.5);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span> (x &gt;= 0 &amp;&amp; x &lt; virtual_width_ &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">virtual_height_</a>) {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            grid[x + y * <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a>] += 1.f;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9be7fc72e0cc3fed64e4e84136c3f8d7">  249</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9be7fc72e0cc3fed64e4e84136c3f8d7">voteForCellBilinear</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> x_f, <span class="keyword">const</span> <span class="keywordtype">float</span> y_f, Vote *grid) {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">if</span> (x_f &gt;= 0.f &amp;&amp; y_f &gt;= 0.f) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> x = x_f, y = y_f;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">if</span> (x + 1 &lt; <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a> &amp;&amp; y + 1 &lt; <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">virtual_height_</a>) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                Vote *g = grid + x + y * <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">float</span> fx = x_f - x, fy = y_f - y, fx1 = 1.f - fx,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                            fy1 = 1.f - fy;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                g[0] += fx1 * fy1;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                g[1] += fx * fy1;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                g[<a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a>] += fx1 * fy;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                g[virtual_width_ + 1] += fx * fy;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aabf95d4de38430266604af8ada0dc552">precomputeRectifiedPoints</a>();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a077406511ce2fe2dafcc318bb02bc518">synthesizeAndPublishDepth</a>();</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9789403c30791c6e1c5a8a2cb2dc7f81">synthesizePointCloudFromVoxelGrid</a>(cv::Mat &amp;depth, cv::Mat &amp;confidence);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae6cc30aaa1c12a87e22cb23762b1d29f">synthesizePointCloudFromVoxelGridLinf</a>(cv::Mat &amp;depth_cell_indices,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                               cv::Mat &amp;confidence);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a782327cddbfd08861a32365a63f993b3">synthesizePointCloudFromVoxelGridContrast</a>(cv::Mat &amp;depth_cell_indices,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                                   cv::Mat &amp;confidence);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a20e387f433c5952219e29ea75aa539c7">synthesizePointCloudFromVoxelGridGradMag</a>(cv::Mat &amp;depth_cell_indices,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                                  cv::Mat &amp;confidence);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a1623778e6e3a6879c7a96919943ebb32">accumulatePointcloud</a>(<span class="keyword">const</span> cv::Mat &amp;depth, <span class="keyword">const</span> cv::Mat &amp;mask,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                              <span class="keyword">const</span> cv::Mat &amp;confidence,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                              <span class="keyword">const</span> Eigen::Matrix3d R_world_ref,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                              <span class="keyword">const</span> Eigen::Vector3d t_world_ref,</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                              <span class="keyword">const</span> ros::Time &amp;timestamp);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a63265d395f08ffcc3754dfbd8fddcf9a">publishVoxelGrid</a>(</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keyword">const</span> evo_utils::geometry::Transformation &amp;T_w_ref) <span class="keyword">const</span>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a38737d443d893b1a30d423e13563ec9d">publishDepthmap</a>(<span class="keyword">const</span> cv::Mat &amp;depth, <span class="keyword">const</span> cv::Mat &amp;mask);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a94b54fd9870f48adb1e52e88975cdc45">publishGlobalMap</a>();</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8b8c08338af40686a2584e8454f98f53">clearEventQueue</a>();</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0d17eba64b62fb1b3e9ce82ae067f3e7">postCameraLoaded</a>();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aaece6ded781928540cf7b3b848d0833d">  440</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> Vote &amp;<a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aaece6ded781928540cf7b3b848d0833d">voxelGridAt</a>(<span class="keyword">const</span> std::vector&lt;Vote&gt; &amp;grid, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y,</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                   <span class="keywordtype">size_t</span> z)<span class="keyword"> const </span>{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">return</span> grid[x + <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a> * (y + z * <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">virtual_height_</a>)];</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a35190fd60fd5e8bb7ff5b8979a4a8a70">  455</a></span>&#160;    <span class="keyword">inline</span> Vote &amp;<a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a35190fd60fd5e8bb7ff5b8979a4a8a70">voxelGridAt</a>(std::vector&lt;Vote&gt; &amp;grid, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">size_t</span> z) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">return</span> grid[x + <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a> * (y + z * <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">virtual_height_</a>)];</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a08b55e09a6c2e7bc1714c06cf9f847c4">update</a>();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a332088b877233c941a41edeed681a57e">  468</a></span>&#160;    ros::NodeHandle <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a332088b877233c941a41edeed681a57e">nh_</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    ros::NodeHandle pnh_;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    image_transport::ImageTransport it_;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#abb6a055c5cd4515fe7eb5818911b7d50">  472</a></span>&#160;    ros::Publisher <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#abb6a055c5cd4515fe7eb5818911b7d50">pub_pc_</a>;          </div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    ros::Publisher <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae83baae63ad0f9e266e3a1e323d01b4f">pub_pc_global_</a>;   </div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    ros::Publisher <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a5aff4f76d8c1697d12a9eaf3b1a25f67">pub_voxel_grid_</a>;  </div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    image_transport::Publisher</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a489a220948a3742cb67c3f3ee9c17ab7">  480</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a489a220948a3742cb67c3f3ee9c17ab7">pub_depth_map_</a>;  </div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ab80ebeb058562a6834726a1781c569c5">  483</a></span>&#160;    ros::Subscriber <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ab80ebeb058562a6834726a1781c569c5">event_sub_</a>;        </div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    ros::Subscriber <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aefbd42bbebb0de0bbd7282ce67afc0c6">tf_sub_</a>;           </div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    ros::Subscriber <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a39e537b8e2385d06156df91dc1f2e190">remote_key_</a>;       </div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    ros::Subscriber <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a35a3692d84034741bce050cfbf1858cd">camera_info_sub_</a>;  </div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a67c78059b53cd51fb551418970f76572">  490</a></span>&#160;    ros::Subscriber <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a67c78059b53cd51fb551418970f76572">copilot_sub_</a>;      </div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0dd83f7db94b2615d40a03892dcdcbe0">  492</a></span>&#160;    MapperState <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0dd83f7db94b2615d40a03892dcdcbe0">state_</a>;  </div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aae99eca2579b25fc757930b5540adc54">  494</a></span>&#160;    std::string <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aae99eca2579b25fc757930b5540adc54">world_frame_id_</a>;  </div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a2b8f9a445431a5432f2a30c4f0bcc302">  495</a></span>&#160;    std::string <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a2b8f9a445431a5432f2a30c4f0bcc302">frame_id_</a>;        </div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    std::string</div><div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9b632eb6d82e259230d3cb2bda830539">  497</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9b632eb6d82e259230d3cb2bda830539">regular_frame_id_</a>;  </div><div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a4c4fa8b85060c7bad51a26e77d7cb532">  498</a></span>&#160;    std::string <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a4c4fa8b85060c7bad51a26e77d7cb532">bootstrap_frame_id_</a>;  </div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    std::shared_ptr&lt;tf::Transformer&gt; tf_;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a313454c2e14b5d530145cdea7cb353d8">  501</a></span>&#160;    evo_utils::geometry::Transformation <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a313454c2e14b5d530145cdea7cb353d8">T_ref_w_</a>;  </div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    image_geometry::PinholeCameraModel</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8090033f289e75e5c8848d8d607776fa">  504</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8090033f289e75e5c8848d8d607776fa">dvs_cam_</a>;  </div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a726d1f1162353f1caecdebf2278a015d">  505</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a726d1f1162353f1caecdebf2278a015d">width_</a>;    </div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a1746a5424d4c6fb08c07415d00cb8561">  506</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a1746a5424d4c6fb08c07415d00cb8561">height_</a>;   </div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="classevo__utils_1_1camera_1_1PinholeCamera.html">evo_utils::camera::PinholeCamera</a></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a68691a0697108ba82a6cd0a674d84ae3">  509</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a68691a0697108ba82a6cd0a674d84ae3">virtual_cam_</a>;  </div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">  510</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">virtual_width_</a>;   </div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">  511</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">virtual_height_</a>;  </div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a632c50ae671224d4fdb90d04649eed3d">  513</a></span>&#160;    Eigen::Matrix3f <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a632c50ae671224d4fdb90d04649eed3d">K_</a>;  </div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// Ref voxel grid parameters</span></div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a6d0ad9955f82c132884ac72ec2265002">  517</a></span>&#160;<span class="comment"></span>    std::vector&lt;Vote&gt; <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a6d0ad9955f82c132884ac72ec2265002">ref_voxel_grid_</a>;  </div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a3e2c40e443e860ce9cd1cd9ec0278005">  518</a></span>&#160;    cv::Mat <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a3e2c40e443e860ce9cd1cd9ec0278005">confidence_mask_</a>;           </div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#acff32750da61643c9d76f3de42afcc56">  519</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#acff32750da61643c9d76f3de42afcc56">voxel_filter_leaf_size_</a>;      </div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordtype">size_t</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a971d6b1bf08a82afa9f6457a3efd0252">  522</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a971d6b1bf08a82afa9f6457a3efd0252">events_to_recreate_kf_</a>;  </div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9fc0bac204374e6d8f001bccc91f42f9">type_focus_measure_</a>;     </div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    Eigen::Matrix2Xf</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afb731a5a3862a81d979ddfba21c0e81a">  529</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afb731a5a3862a81d979ddfba21c0e81a">precomputed_rectified_points_</a>;  </div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ad9bbd8fd1f19afcb05609eb8390ed203">  532</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ad9bbd8fd1f19afcb05609eb8390ed203">current_event_</a>;         </div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ace0ad5d9ed7f95e6478803c2340a1a30">newest_tracked_event_</a>;  </div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ace0e5758c89defe7c49b6116203e77e2">last_kf_update_event_</a>;  </div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    std::deque&lt;dvs_msgs::Event&gt; event_queue_;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a63f8adce923276393dc12edaad4c4d66">  540</a></span>&#160;    PointCloud::Ptr <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a63f8adce923276393dc12edaad4c4d66">pc_</a>;         </div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a2144912eab70d469e16448ae24f71a7d">  541</a></span>&#160;    PointCloud::Ptr <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a2144912eab70d469e16448ae24f71a7d">pc_global_</a>;  </div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a635b56c3ef2453da9e5881c920eb0059">  544</a></span>&#160;    evo_utils::geometry::Depth <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a635b56c3ef2453da9e5881c920eb0059">min_depth_</a>;  </div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    evo_utils::geometry::Depth <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ac65d0e128be514ed1a396e4ff1b38daf">max_depth_</a>;  </div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a4a5d1f3d4b60664b3dbedfd93672f89d">num_depth_cells_</a>;                </div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="classdepth__from__defocus_1_1InverseDepthVector.html">InverseDepthVector</a></div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afddf16f4d9c8139a54eee1941743d751">  551</a></span>&#160;        <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afddf16f4d9c8139a54eee1941743d751">depths_vec_</a>;  </div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">//  LinearDepthVector depths_vec_;</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    std::vector&lt;float&gt; raw_depths_vec_;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#af1033e661af53d8d1f162830f13ef0db">  555</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#af1033e661af53d8d1f162830f13ef0db">radius_search_</a>;     </div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ace24950e40764734e448abb9abbb65dd">min_num_neighbors_</a>;   </div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a981fb5f234a53aa96aa24c93da86f423">median_filter_size_</a>;  </div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a40b8f1fcd91c8f9917660cdd22297475">  564</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a40b8f1fcd91c8f9917660cdd22297475">adaptive_threshold_kernel_size_</a>;  </div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#af60735b8c6cde0dcdeb5e083807479cc">adaptive_threshold_c_</a>;  </div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9c537264ea3455e4924ef8a3a5833d21">  573</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9c537264ea3455e4924ef8a3a5833d21">auto_trigger_</a>;  </div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;};</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;}  <span class="comment">// namespace depth_from_defocus</span></div><div class="ttc" id="classdepth__from__defocus_1_1InverseDepthVector_html"><div class="ttname"><a href="classdepth__from__defocus_1_1InverseDepthVector.html">depth_from_defocus::InverseDepthVector</a></div><div class="ttdef"><b>Definition:</b> depth_vector.hpp:148</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ac65d0e128be514ed1a396e4ff1b38daf"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ac65d0e128be514ed1a396e4ff1b38daf">depth_from_defocus::DepthFromDefocusNode::max_depth_</a></div><div class="ttdeci">evo_utils::geometry::Depth max_depth_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:546</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_afa040d5d769ec0fe374456e5bab56ed4"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afa040d5d769ec0fe374456e5bab56ed4">depth_from_defocus::DepthFromDefocusNode::~DepthFromDefocusNode</a></div><div class="ttdeci">~DepthFromDefocusNode()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:447</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a22cd4237f65478939011561af75e326c"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a22cd4237f65478939011561af75e326c">depth_from_defocus::DepthFromDefocusNode::virtual_width_</a></div><div class="ttdeci">int virtual_width_</div><div class="ttdoc">virtual width </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:510</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a39e537b8e2385d06156df91dc1f2e190"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a39e537b8e2385d06156df91dc1f2e190">depth_from_defocus::DepthFromDefocusNode::remote_key_</a></div><div class="ttdeci">ros::Subscriber remote_key_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:487</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a35a3692d84034741bce050cfbf1858cd"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a35a3692d84034741bce050cfbf1858cd">depth_from_defocus::DepthFromDefocusNode::camera_info_sub_</a></div><div class="ttdeci">ros::Subscriber camera_info_sub_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:489</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_afdae5a3c5364f7134a6db87b291d4c2b"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afdae5a3c5364f7134a6db87b291d4c2b">depth_from_defocus::DepthFromDefocusNode::voteForCell</a></div><div class="ttdeci">void voteForCell(const float x_f, const float y_f, Vote *grid)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:227</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ae6cc30aaa1c12a87e22cb23762b1d29f"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae6cc30aaa1c12a87e22cb23762b1d29f">depth_from_defocus::DepthFromDefocusNode::synthesizePointCloudFromVoxelGridLinf</a></div><div class="ttdeci">void synthesizePointCloudFromVoxelGridLinf(cv::Mat &amp;depth_cell_indices, cv::Mat &amp;confidence)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:697</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a2144912eab70d469e16448ae24f71a7d"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a2144912eab70d469e16448ae24f71a7d">depth_from_defocus::DepthFromDefocusNode::pc_global_</a></div><div class="ttdeci">PointCloud::Ptr pc_global_</div><div class="ttdoc">Global map,. </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:541</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a9947eae416456401f19a6191ca5f7ea7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9947eae416456401f19a6191ca5f7ea7">depth_from_defocus::DepthFromDefocusNode::remoteKeyCallback</a></div><div class="ttdeci">void remoteKeyCallback(const std_msgs::String::ConstPtr &amp;msg)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:202</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a66af9d6f400f5ba558891c3e96ccefc8"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a66af9d6f400f5ba558891c3e96ccefc8">depth_from_defocus::DepthFromDefocusNode::processEventArray</a></div><div class="ttdeci">void processEventArray(const dvs_msgs::EventArray::ConstPtr &amp;event_array)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:485</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ac1d09c207960dc16c44ab095b0b0c012"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ac1d09c207960dc16c44ab095b0b0c012">depth_from_defocus::DepthFromDefocusNode::setupVoxelGrid</a></div><div class="ttdeci">void setupVoxelGrid()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:452</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a077406511ce2fe2dafcc318bb02bc518"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a077406511ce2fe2dafcc318bb02bc518">depth_from_defocus::DepthFromDefocusNode::synthesizeAndPublishDepth</a></div><div class="ttdeci">void synthesizeAndPublishDepth()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:520</div></div>
<div class="ttc" id="namespacedepth__from__defocus_html"><div class="ttname"><a href="namespacedepth__from__defocus.html">depth_from_defocus</a></div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:27</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_af60735b8c6cde0dcdeb5e083807479cc"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#af60735b8c6cde0dcdeb5e083807479cc">depth_from_defocus::DepthFromDefocusNode::adaptive_threshold_c_</a></div><div class="ttdeci">int adaptive_threshold_c_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:568</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a20e387f433c5952219e29ea75aa539c7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a20e387f433c5952219e29ea75aa539c7">depth_from_defocus::DepthFromDefocusNode::synthesizePointCloudFromVoxelGridGradMag</a></div><div class="ttdeci">void synthesizePointCloudFromVoxelGridGradMag(cv::Mat &amp;depth_cell_indices, cv::Mat &amp;confidence)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:652</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a2b8f9a445431a5432f2a30c4f0bcc302"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a2b8f9a445431a5432f2a30c4f0bcc302">depth_from_defocus::DepthFromDefocusNode::frame_id_</a></div><div class="ttdeci">std::string frame_id_</div><div class="ttdoc">currently used frame id </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:495</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a6c3e65bb3ddb235e484574d851a08c48"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a6c3e65bb3ddb235e484574d851a08c48">depth_from_defocus::DepthFromDefocusNode::resetVoxelGrid</a></div><div class="ttdeci">void resetVoxelGrid()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:426</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html">depth_from_defocus::DepthFromDefocusNode</a></div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:58</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a67c78059b53cd51fb551418970f76572"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a67c78059b53cd51fb551418970f76572">depth_from_defocus::DepthFromDefocusNode::copilot_sub_</a></div><div class="ttdeci">ros::Subscriber copilot_sub_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:490</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a1623778e6e3a6879c7a96919943ebb32"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a1623778e6e3a6879c7a96919943ebb32">depth_from_defocus::DepthFromDefocusNode::accumulatePointcloud</a></div><div class="ttdeci">void accumulatePointcloud(const cv::Mat &amp;depth, const cv::Mat &amp;mask, const cv::Mat &amp;confidence, const Eigen::Matrix3d R_world_ref, const Eigen::Vector3d t_world_ref, const ros::Time &amp;timestamp)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:801</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a971d6b1bf08a82afa9f6457a3efd0252"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a971d6b1bf08a82afa9f6457a3efd0252">depth_from_defocus::DepthFromDefocusNode::events_to_recreate_kf_</a></div><div class="ttdeci">size_t events_to_recreate_kf_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:522</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_abb6a055c5cd4515fe7eb5818911b7d50"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#abb6a055c5cd4515fe7eb5818911b7d50">depth_from_defocus::DepthFromDefocusNode::pub_pc_</a></div><div class="ttdeci">ros::Publisher pub_pc_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:472</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a489a220948a3742cb67c3f3ee9c17ab7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a489a220948a3742cb67c3f3ee9c17ab7">depth_from_defocus::DepthFromDefocusNode::pub_depth_map_</a></div><div class="ttdeci">image_transport::Publisher pub_depth_map_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:480</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_acf8dc50f440375fdf193e512a73409a5"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#acf8dc50f440375fdf193e512a73409a5">depth_from_defocus::DepthFromDefocusNode::processEventQueue</a></div><div class="ttdeci">void processEventQueue(bool reset=false)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:247</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a34a786d7ed8c846f3d10e6c4ea44ca1c"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a34a786d7ed8c846f3d10e6c4ea44ca1c">depth_from_defocus::DepthFromDefocusNode::DepthFromDefocusNode</a></div><div class="ttdeci">DepthFromDefocusNode(const ros::NodeHandle &amp;nh, const ros::NodeHandle &amp;pnh, const image_geometry::PinholeCameraModel &amp;cam)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:76</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a35190fd60fd5e8bb7ff5b8979a4a8a70"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a35190fd60fd5e8bb7ff5b8979a4a8a70">depth_from_defocus::DepthFromDefocusNode::voxelGridAt</a></div><div class="ttdeci">Vote &amp; voxelGridAt(std::vector&lt; Vote &gt; &amp;grid, int x, int y, size_t z)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:455</div></div>
<div class="ttc" id="classevo__utils_1_1camera_1_1PinholeCamera_html"><div class="ttname"><a href="classevo__utils_1_1camera_1_1PinholeCamera.html">evo_utils::camera::PinholeCamera</a></div><div class="ttdef"><b>Definition:</b> camera.hpp:47</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_afddf16f4d9c8139a54eee1941743d751"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afddf16f4d9c8139a54eee1941743d751">depth_from_defocus::DepthFromDefocusNode::depths_vec_</a></div><div class="ttdeci">InverseDepthVector depths_vec_</div><div class="ttdoc">precomputed vector of num_depth_cells_ inverse depths </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:551</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a8e50df3e30a2cb737f9ebba7abf309f7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8e50df3e30a2cb737f9ebba7abf309f7">depth_from_defocus::DepthFromDefocusNode::copilotCallback</a></div><div class="ttdeci">void copilotCallback(const std_msgs::Bool &amp;msg)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:131</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ace0ad5d9ed7f95e6478803c2340a1a30"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ace0ad5d9ed7f95e6478803c2340a1a30">depth_from_defocus::DepthFromDefocusNode::newest_tracked_event_</a></div><div class="ttdeci">size_t newest_tracked_event_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:534</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a94b54fd9870f48adb1e52e88975cdc45"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a94b54fd9870f48adb1e52e88975cdc45">depth_from_defocus::DepthFromDefocusNode::publishGlobalMap</a></div><div class="ttdeci">void publishGlobalMap()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:944</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a5aff4f76d8c1697d12a9eaf3b1a25f67"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a5aff4f76d8c1697d12a9eaf3b1a25f67">depth_from_defocus::DepthFromDefocusNode::pub_voxel_grid_</a></div><div class="ttdeci">ros::Publisher pub_voxel_grid_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:476</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a726d1f1162353f1caecdebf2278a015d"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a726d1f1162353f1caecdebf2278a015d">depth_from_defocus::DepthFromDefocusNode::width_</a></div><div class="ttdeci">int width_</div><div class="ttdoc">camera width </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:505</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_acff32750da61643c9d76f3de42afcc56"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#acff32750da61643c9d76f3de42afcc56">depth_from_defocus::DepthFromDefocusNode::voxel_filter_leaf_size_</a></div><div class="ttdeci">float voxel_filter_leaf_size_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:519</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_aae99eca2579b25fc757930b5540adc54"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aae99eca2579b25fc757930b5540adc54">depth_from_defocus::DepthFromDefocusNode::world_frame_id_</a></div><div class="ttdeci">std::string world_frame_id_</div><div class="ttdoc">The root frame id of the tf system. </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:494</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ad9bbd8fd1f19afcb05609eb8390ed203"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ad9bbd8fd1f19afcb05609eb8390ed203">depth_from_defocus::DepthFromDefocusNode::current_event_</a></div><div class="ttdeci">size_t current_event_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:532</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a38737d443d893b1a30d423e13563ec9d"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a38737d443d893b1a30d423e13563ec9d">depth_from_defocus::DepthFromDefocusNode::publishDepthmap</a></div><div class="ttdeci">void publishDepthmap(const cv::Mat &amp;depth, const cv::Mat &amp;mask)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:868</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a63265d395f08ffcc3754dfbd8fddcf9a"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a63265d395f08ffcc3754dfbd8fddcf9a">depth_from_defocus::DepthFromDefocusNode::publishVoxelGrid</a></div><div class="ttdeci">void publishVoxelGrid(const evo_utils::geometry::Transformation &amp;T_w_ref) const</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:892</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a9789403c30791c6e1c5a8a2cb2dc7f81"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9789403c30791c6e1c5a8a2cb2dc7f81">depth_from_defocus::DepthFromDefocusNode::synthesizePointCloudFromVoxelGrid</a></div><div class="ttdeci">void synthesizePointCloudFromVoxelGrid(cv::Mat &amp;depth, cv::Mat &amp;confidence)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:725</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a4a5d1f3d4b60664b3dbedfd93672f89d"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a4a5d1f3d4b60664b3dbedfd93672f89d">depth_from_defocus::DepthFromDefocusNode::num_depth_cells_</a></div><div class="ttdeci">size_t num_depth_cells_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:548</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a6d0ad9955f82c132884ac72ec2265002"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a6d0ad9955f82c132884ac72ec2265002">depth_from_defocus::DepthFromDefocusNode::ref_voxel_grid_</a></div><div class="ttdeci">std::vector&lt; Vote &gt; ref_voxel_grid_</div><div class="ttdoc">Voxel grid vote counters. </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:517</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_afdfd142fd0150cdf4db973a7e4cf2446"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afdfd142fd0150cdf4db973a7e4cf2446">depth_from_defocus::DepthFromDefocusNode::projectEventsToVoxelGrid</a></div><div class="ttdeci">void projectEventsToVoxelGrid(const std::vector&lt; Eigen::Vector4f &gt; &amp;events, const std::vector&lt; Eigen::Vector3f &gt; &amp;centers)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:381</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a8090033f289e75e5c8848d8d607776fa"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8090033f289e75e5c8848d8d607776fa">depth_from_defocus::DepthFromDefocusNode::dvs_cam_</a></div><div class="ttdeci">image_geometry::PinholeCameraModel dvs_cam_</div><div class="ttdoc">dvs sensor model retrieved from configuration file </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:504</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a9c537264ea3455e4924ef8a3a5833d21"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9c537264ea3455e4924ef8a3a5833d21">depth_from_defocus::DepthFromDefocusNode::auto_trigger_</a></div><div class="ttdeci">bool auto_trigger_</div><div class="ttdoc">whether to start on first pose received </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:573</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ae83baae63ad0f9e266e3a1e323d01b4f"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae83baae63ad0f9e266e3a1e323d01b4f">depth_from_defocus::DepthFromDefocusNode::pub_pc_global_</a></div><div class="ttdeci">ros::Publisher pub_pc_global_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:474</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a782327cddbfd08861a32365a63f993b3"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a782327cddbfd08861a32365a63f993b3">depth_from_defocus::DepthFromDefocusNode::synthesizePointCloudFromVoxelGridContrast</a></div><div class="ttdeci">void synthesizePointCloudFromVoxelGridContrast(cv::Mat &amp;depth_cell_indices, cv::Mat &amp;confidence)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:603</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a4c4fa8b85060c7bad51a26e77d7cb532"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a4c4fa8b85060c7bad51a26e77d7cb532">depth_from_defocus::DepthFromDefocusNode::bootstrap_frame_id_</a></div><div class="ttdeci">std::string bootstrap_frame_id_</div><div class="ttdoc">frame id to use during bootstrapping </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:498</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a0d17eba64b62fb1b3e9ce82ae067f3e7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0d17eba64b62fb1b3e9ce82ae067f3e7">depth_from_defocus::DepthFromDefocusNode::postCameraLoaded</a></div><div class="ttdeci">void postCameraLoaded()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:41</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_aabf95d4de38430266604af8ada0dc552"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aabf95d4de38430266604af8ada0dc552">depth_from_defocus::DepthFromDefocusNode::precomputeRectifiedPoints</a></div><div class="ttdeci">void precomputeRectifiedPoints()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:552</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a313454c2e14b5d530145cdea7cb353d8"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a313454c2e14b5d530145cdea7cb353d8">depth_from_defocus::DepthFromDefocusNode::T_ref_w_</a></div><div class="ttdeci">evo_utils::geometry::Transformation T_ref_w_</div><div class="ttdoc">camera pose </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:501</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ad015324f82f688def03d52386161e706"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ad015324f82f688def03d52386161e706">depth_from_defocus::DepthFromDefocusNode::getPoseAt</a></div><div class="ttdeci">bool getPoseAt(const ros::Time &amp;t, evo_utils::geometry::Transformation &amp;T)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:536</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a08b55e09a6c2e7bc1714c06cf9f847c4"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a08b55e09a6c2e7bc1714c06cf9f847c4">depth_from_defocus::DepthFromDefocusNode::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:182</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a8b8c08338af40686a2584e8454f98f53"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a8b8c08338af40686a2584e8454f98f53">depth_from_defocus::DepthFromDefocusNode::clearEventQueue</a></div><div class="ttdeci">void clearEventQueue()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:504</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a981fb5f234a53aa96aa24c93da86f423"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a981fb5f234a53aa96aa24c93da86f423">depth_from_defocus::DepthFromDefocusNode::median_filter_size_</a></div><div class="ttdeci">int median_filter_size_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:560</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a635b56c3ef2453da9e5881c920eb0059"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a635b56c3ef2453da9e5881c920eb0059">depth_from_defocus::DepthFromDefocusNode::min_depth_</a></div><div class="ttdeci">evo_utils::geometry::Depth min_depth_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:544</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a63f8adce923276393dc12edaad4c4d66"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a63f8adce923276393dc12edaad4c4d66">depth_from_defocus::DepthFromDefocusNode::pc_</a></div><div class="ttdeci">PointCloud::Ptr pc_</div><div class="ttdoc">Local map. </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:540</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a3e2c40e443e860ce9cd1cd9ec0278005"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a3e2c40e443e860ce9cd1cd9ec0278005">depth_from_defocus::DepthFromDefocusNode::confidence_mask_</a></div><div class="ttdeci">cv::Mat confidence_mask_</div><div class="ttdoc">Confidence associated to each voxel. </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:518</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a0b4316dd5d3f7a0f9f9022fa7cb062e7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0b4316dd5d3f7a0f9f9022fa7cb062e7">depth_from_defocus::DepthFromDefocusNode::resetMapper</a></div><div class="ttdeci">void resetMapper()</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:192</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a632c50ae671224d4fdb90d04649eed3d"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a632c50ae671224d4fdb90d04649eed3d">depth_from_defocus::DepthFromDefocusNode::K_</a></div><div class="ttdeci">Eigen::Matrix3f K_</div><div class="ttdoc">intrinsic matrix </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:513</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a98c7bb325b87b98a5246f5413bdfccda"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a98c7bb325b87b98a5246f5413bdfccda">depth_from_defocus::DepthFromDefocusNode::cameraInfoCallback</a></div><div class="ttdeci">void cameraInfoCallback(const sensor_msgs::CameraInfo::ConstPtr &amp;msg)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:27</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a1746a5424d4c6fb08c07415d00cb8561"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a1746a5424d4c6fb08c07415d00cb8561">depth_from_defocus::DepthFromDefocusNode::height_</a></div><div class="ttdeci">int height_</div><div class="ttdoc">camera height </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:506</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_aaece6ded781928540cf7b3b848d0833d"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aaece6ded781928540cf7b3b848d0833d">depth_from_defocus::DepthFromDefocusNode::voxelGridAt</a></div><div class="ttdeci">const Vote &amp; voxelGridAt(const std::vector&lt; Vote &gt; &amp;grid, int x, int y, size_t z) const</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:440</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a9be7fc72e0cc3fed64e4e84136c3f8d7"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9be7fc72e0cc3fed64e4e84136c3f8d7">depth_from_defocus::DepthFromDefocusNode::voteForCellBilinear</a></div><div class="ttdeci">void voteForCellBilinear(const float x_f, const float y_f, Vote *grid)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:249</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ae7870dbb15d8db5b442bc8ae80333c62"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ae7870dbb15d8db5b442bc8ae80333c62">depth_from_defocus::DepthFromDefocusNode::virtual_height_</a></div><div class="ttdeci">int virtual_height_</div><div class="ttdoc">virtual height </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:511</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a68691a0697108ba82a6cd0a674d84ae3"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a68691a0697108ba82a6cd0a674d84ae3">depth_from_defocus::DepthFromDefocusNode::virtual_cam_</a></div><div class="ttdeci">evo_utils::camera::PinholeCamera virtual_cam_</div><div class="ttdoc">To extend the functionalities of PinholeCameraModel. </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:509</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_af1033e661af53d8d1f162830f13ef0db"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#af1033e661af53d8d1f162830f13ef0db">depth_from_defocus::DepthFromDefocusNode::radius_search_</a></div><div class="ttdeci">float radius_search_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:555</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_aefbd42bbebb0de0bbd7282ce67afc0c6"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#aefbd42bbebb0de0bbd7282ce67afc0c6">depth_from_defocus::DepthFromDefocusNode::tf_sub_</a></div><div class="ttdeci">ros::Subscriber tf_sub_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:485</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a410d73cc0f5560fd523f00611bd6d662"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a410d73cc0f5560fd523f00611bd6d662">depth_from_defocus::DepthFromDefocusNode::tfCallback</a></div><div class="ttdeci">void tfCallback(const tf::tfMessage::ConstPtr &amp;tf_msg)</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.cpp:136</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a9fc0bac204374e6d8f001bccc91f42f9"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9fc0bac204374e6d8f001bccc91f42f9">depth_from_defocus::DepthFromDefocusNode::type_focus_measure_</a></div><div class="ttdeci">int type_focus_measure_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:526</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a332088b877233c941a41edeed681a57e"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a332088b877233c941a41edeed681a57e">depth_from_defocus::DepthFromDefocusNode::nh_</a></div><div class="ttdeci">ros::NodeHandle nh_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:468</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ace0e5758c89defe7c49b6116203e77e2"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ace0e5758c89defe7c49b6116203e77e2">depth_from_defocus::DepthFromDefocusNode::last_kf_update_event_</a></div><div class="ttdeci">size_t last_kf_update_event_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:536</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a9b632eb6d82e259230d3cb2bda830539"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a9b632eb6d82e259230d3cb2bda830539">depth_from_defocus::DepthFromDefocusNode::regular_frame_id_</a></div><div class="ttdeci">std::string regular_frame_id_</div><div class="ttdoc">frame id to use during regular operation </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:497</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_afb731a5a3862a81d979ddfba21c0e81a"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#afb731a5a3862a81d979ddfba21c0e81a">depth_from_defocus::DepthFromDefocusNode::precomputed_rectified_points_</a></div><div class="ttdeci">Eigen::Matrix2Xf precomputed_rectified_points_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:529</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ace24950e40764734e448abb9abbb65dd"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ace24950e40764734e448abb9abbb65dd">depth_from_defocus::DepthFromDefocusNode::min_num_neighbors_</a></div><div class="ttdeci">int min_num_neighbors_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:557</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_ab80ebeb058562a6834726a1781c569c5"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#ab80ebeb058562a6834726a1781c569c5">depth_from_defocus::DepthFromDefocusNode::event_sub_</a></div><div class="ttdeci">ros::Subscriber event_sub_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:483</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a40b8f1fcd91c8f9917660cdd22297475"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a40b8f1fcd91c8f9917660cdd22297475">depth_from_defocus::DepthFromDefocusNode::adaptive_threshold_kernel_size_</a></div><div class="ttdeci">int adaptive_threshold_kernel_size_</div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:564</div></div>
<div class="ttc" id="classdepth__from__defocus_1_1DepthFromDefocusNode_html_a0dd83f7db94b2615d40a03892dcdcbe0"><div class="ttname"><a href="classdepth__from__defocus_1_1DepthFromDefocusNode.html#a0dd83f7db94b2615d40a03892dcdcbe0">depth_from_defocus::DepthFromDefocusNode::state_</a></div><div class="ttdeci">MapperState state_</div><div class="ttdoc">state of the mapper, </div><div class="ttdef"><b>Definition:</b> depth_defocus_node.hpp:492</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
